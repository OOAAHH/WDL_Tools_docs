{"content":"<h2 id=\"👏欢迎来到riboc🆅\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#👏欢迎来到riboc🆅\"><span>👏<strong>欢迎来到Ribo🄲🆅</strong></span></a></h2>\n<hr>\n<blockquote>\n<p><mark>RiboCV</mark>是一个文档网站，在这里我们将展示如何使用BioOS上的计算资源。</p>\n</blockquote>\n<blockquote>\n<p>我们假设我们的用户唯一需要的前置知识是如何在计算机上熟练的使用浏览器、复制粘贴、点击鼠标。<s>您一定是会这个的，对吧。</s></p>\n</blockquote>\n<h3 id=\"写在开头\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#写在开头\"><span>写在开头</span></a></h3>\n<p>本文的目的在于让您快速对BioOS上的计算资源有初步的了解，并进行一些简单的操作。BioOS支持多种操作方式，包括网页、命令行、API等。本文将介绍如何通过<mark>网页</mark>操作BioOS。</p>\n<blockquote>\n<p>命令行、API等工具的文档在<a href=\"https://cloud.miracle.ac.cn/docs\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>，你可能需要内网环境。</p>\n</blockquote>\n<h3 id=\"您需要准备\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#您需要准备\"><span>您需要准备</span></a></h3>\n<ul>\n<li>一个BioOS账号</li>\n<li>一个BioOS Workspace</li>\n</ul>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">提示</p>\n<Tabs id=\"41\" :data='[{\"id\":\"账号在哪？\"},{\"id\":\"Workspace是什么？\"}]'>\n<template #title0=\"{ value, isActive }\">账号在哪？</template><template #title1=\"{ value, isActive }\">Workspace是什么？</template><template #tab0=\"{ value, isActive }\"><p>看看您的邮箱，或者联系管理员。</p>\n</template><template #tab1=\"{ value, isActive }\"><p>Workspace是BioOS中的重要概念，是你的代码和数据存储的抽象概念，就像是一个文件夹。您在首次登录自己的账户时，您可以在系统引导下创建一个Workspace。</p>\n</template></Tabs></div>\n<h3 id=\"主要内容\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#主要内容\"><span>主要内容</span></a></h3>\n<p>通过本文，您将学会如何完成一个简单的计算任务，包括以下几个方面：</p>\n<p>⚙️ <strong>向BioOS中导入工作流文件</strong></p>\n<p>🔍 <strong>认识BioOS中存储数据的方式</strong></p>\n<p>🔗 <strong>利用json传递计算参数</strong></p>\n<p>🚀 <strong>运行工作流并查看运行结果</strong></p>\n<h2 id=\"让我们开始吧-🕺💃\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#让我们开始吧-🕺💃\"><span>让我们开始吧！🕺💃</span></a></h2>\n<h3 id=\"⚙️-向bioos中导入工作流文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#⚙️-向bioos中导入工作流文件\"><span>⚙️ 向BioOS中导入工作流文件</span></a></h3>\n<blockquote>\n<p>这里已经准备好了一个<mark>工作流文件</mark>，您可以将其导入到BioOS中。</p>\n</blockquote>\n<div class=\"demo-wrapper has-title\">\n  <div class=\"demo-head\">\n    <div class=\"demo-ctrl\"><i></i><i></i><i></i></div>\n    <h4 class=\"demo-title\"><p>example.wdl</p></h4>\n  </div>\n  <div class=\"demo-container\" >\n<div class=\"language-python line-numbers-mode has-collapsed collapsed\" data-ext=\"python\" data-title=\"python\" style=\"--vp-collapsed-lines:8;\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes light-plus aurora-x vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">version </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1.0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">task rename_fastq_files_based_on_size </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">  input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> fastq_file_paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String disk_space = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">150 GB</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Int cpu = </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  command </span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">&#x3C;&#x3C;&#x3C;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    python3 </span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">&#x3C;&#x3C;</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">CODE</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    import</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> os</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    import</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> shutil</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Convert file paths from WDL array to Python list</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    files = </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">~{sep='</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\"> \"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">' fastq_file_paths}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    sample_name = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">~</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{sample_name}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Calculate file sizes and sort them</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    file_sizes = </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[(</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">f</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> os</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">path</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">getsize</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">f</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">))</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\"> for</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> f </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">in</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">sort</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#F78C6C\">key</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">=</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">lambda</span><span style=\"--shiki-light:#001080;--shiki-dark:#F78C6C\"> x</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> x</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Initialize variables to hold file paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">None</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Determine the number of files and assign accordingly</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\"> len</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\"> ==</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\"> 2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    elif</span><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\"> len</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\"> ==</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\"> 3</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Define new filenames</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    i1_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_I1_001.fastq.gz\"</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\"> if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_file </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">else</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    r1_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_R1_001.fastq.gz\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    r2_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_R2_001.fastq.gz\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Copy and rename files</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> r1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r2_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> r2_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Output new filenames for verification</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">        print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r2_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    CODE</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">  >>></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  output </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> renamed_fastq_files = </span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">glob</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">./*_L001_*_001.fastq.gz</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name_out = sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  runtime </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    docker</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\"> \"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">python:3.9.19-slim-bullseye</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    cpu</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> cpu</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    disk</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> disk_space</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">workflow example_workflow </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">  input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> fastq_file_paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String disk_space = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">150 GB</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Int cpu = </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  call rename_fastq_files_based_on_size </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      fastq_file_paths = fastq_file_paths</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      sample_name = sample_name</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      disk_space = disk_space</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      cpu = cpu</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  output </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> renamed_files = rename_fastq_files_based_on_size</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">renamed_fastq_files</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name_out = rename_fastq_files_based_on_size</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name_out</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">}</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div><div class=\"collapsed-lines\"></div></div></div></div><p>这个过程如下图所示</p>\n<ImageCard\n  image=\"../images/WDLinput.gif\"\n  title=\"导入工作流\"\n  description=\"跟随“蓝色按钮”的指引，完成工作流的导入。记得为工作流命名，并撰写注释。\"\n  href=\"/\"\n  author=\"Hughes\"\n  date=\"2024/10/30\"\n/>","env":{"base":"/WDL_Tools_docs/","filePath":"/Users/hughes/docs/WDL_Tools_docs/docs/quickstart.md","filePathRelative":"quickstart.md","frontmatter":{"title":"快速开始","createTime":"2024/10/30 11:20:18","permalink":"/quickstart/"},"sfcBlocks":{"template":{"type":"template","content":"<template><h2 id=\"👏欢迎来到riboc🆅\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#👏欢迎来到riboc🆅\"><span>👏<strong>欢迎来到Ribo🄲🆅</strong></span></a></h2>\n<hr>\n<blockquote>\n<p><mark>RiboCV</mark>是一个文档网站，在这里我们将展示如何使用BioOS上的计算资源。</p>\n</blockquote>\n<blockquote>\n<p>我们假设我们的用户唯一需要的前置知识是如何在计算机上熟练的使用浏览器、复制粘贴、点击鼠标。<s>您一定是会这个的，对吧。</s></p>\n</blockquote>\n<h3 id=\"写在开头\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#写在开头\"><span>写在开头</span></a></h3>\n<p>本文的目的在于让您快速对BioOS上的计算资源有初步的了解，并进行一些简单的操作。BioOS支持多种操作方式，包括网页、命令行、API等。本文将介绍如何通过<mark>网页</mark>操作BioOS。</p>\n<blockquote>\n<p>命令行、API等工具的文档在<a href=\"https://cloud.miracle.ac.cn/docs\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>，你可能需要内网环境。</p>\n</blockquote>\n<h3 id=\"您需要准备\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#您需要准备\"><span>您需要准备</span></a></h3>\n<ul>\n<li>一个BioOS账号</li>\n<li>一个BioOS Workspace</li>\n</ul>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">提示</p>\n<Tabs id=\"41\" :data='[{\"id\":\"账号在哪？\"},{\"id\":\"Workspace是什么？\"}]'>\n<template #title0=\"{ value, isActive }\">账号在哪？</template><template #title1=\"{ value, isActive }\">Workspace是什么？</template><template #tab0=\"{ value, isActive }\"><p>看看您的邮箱，或者联系管理员。</p>\n</template><template #tab1=\"{ value, isActive }\"><p>Workspace是BioOS中的重要概念，是你的代码和数据存储的抽象概念，就像是一个文件夹。您在首次登录自己的账户时，您可以在系统引导下创建一个Workspace。</p>\n</template></Tabs></div>\n<h3 id=\"主要内容\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#主要内容\"><span>主要内容</span></a></h3>\n<p>通过本文，您将学会如何完成一个简单的计算任务，包括以下几个方面：</p>\n<p>⚙️ <strong>向BioOS中导入工作流文件</strong></p>\n<p>🔍 <strong>认识BioOS中存储数据的方式</strong></p>\n<p>🔗 <strong>利用json传递计算参数</strong></p>\n<p>🚀 <strong>运行工作流并查看运行结果</strong></p>\n<h2 id=\"让我们开始吧-🕺💃\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#让我们开始吧-🕺💃\"><span>让我们开始吧！🕺💃</span></a></h2>\n<h3 id=\"⚙️-向bioos中导入工作流文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#⚙️-向bioos中导入工作流文件\"><span>⚙️ 向BioOS中导入工作流文件</span></a></h3>\n<blockquote>\n<p>这里已经准备好了一个<mark>工作流文件</mark>，您可以将其导入到BioOS中。</p>\n</blockquote>\n<div class=\"demo-wrapper has-title\">\n  <div class=\"demo-head\">\n    <div class=\"demo-ctrl\"><i></i><i></i><i></i></div>\n    <h4 class=\"demo-title\"><p>example.wdl</p></h4>\n  </div>\n  <div class=\"demo-container\" >\n<div class=\"language-python line-numbers-mode has-collapsed collapsed\" data-ext=\"python\" data-title=\"python\" style=\"--vp-collapsed-lines:8;\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes light-plus aurora-x vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">version </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1.0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">task rename_fastq_files_based_on_size </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">  input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> fastq_file_paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String disk_space = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">150 GB</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Int cpu = </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  command </span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">&#x3C;&#x3C;&#x3C;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    python3 </span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">&#x3C;&#x3C;</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">CODE</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    import</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> os</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    import</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> shutil</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Convert file paths from WDL array to Python list</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    files = </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">~{sep='</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\"> \"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">' fastq_file_paths}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    sample_name = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">~</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{sample_name}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Calculate file sizes and sort them</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    file_sizes = </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[(</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">f</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> os</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">path</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">getsize</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">f</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">))</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\"> for</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> f </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">in</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">sort</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#F78C6C\">key</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">=</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">lambda</span><span style=\"--shiki-light:#001080;--shiki-dark:#F78C6C\"> x</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> x</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Initialize variables to hold file paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">None</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Determine the number of files and assign accordingly</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\"> len</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\"> ==</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\"> 2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    elif</span><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\"> len</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\"> ==</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\"> 3</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Define new filenames</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    i1_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_I1_001.fastq.gz\"</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\"> if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_file </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">else</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    r1_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_R1_001.fastq.gz\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    r2_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_R2_001.fastq.gz\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Copy and rename files</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> r1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r2_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> r2_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Output new filenames for verification</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">        print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r2_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    CODE</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">  >>></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  output </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> renamed_fastq_files = </span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">glob</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">./*_L001_*_001.fastq.gz</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name_out = sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  runtime </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    docker</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\"> \"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">python:3.9.19-slim-bullseye</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    cpu</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> cpu</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    disk</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> disk_space</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">workflow example_workflow </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">  input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> fastq_file_paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String disk_space = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">150 GB</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Int cpu = </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  call rename_fastq_files_based_on_size </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      fastq_file_paths = fastq_file_paths</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      sample_name = sample_name</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      disk_space = disk_space</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      cpu = cpu</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  output </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> renamed_files = rename_fastq_files_based_on_size</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">renamed_fastq_files</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name_out = rename_fastq_files_based_on_size</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name_out</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">}</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div><div class=\"collapsed-lines\"></div></div></div></div><p>这个过程如下图所示</p>\n<ImageCard\n  image=\"../images/WDLinput.gif\"\n  title=\"导入工作流\"\n  description=\"跟随“蓝色按钮”的指引，完成工作流的导入。记得为工作流命名，并撰写注释。\"\n  href=\"/\"\n  author=\"Hughes\"\n  date=\"2024/10/30\"\n/></template>","contentStripped":"<h2 id=\"👏欢迎来到riboc🆅\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#👏欢迎来到riboc🆅\"><span>👏<strong>欢迎来到Ribo🄲🆅</strong></span></a></h2>\n<hr>\n<blockquote>\n<p><mark>RiboCV</mark>是一个文档网站，在这里我们将展示如何使用BioOS上的计算资源。</p>\n</blockquote>\n<blockquote>\n<p>我们假设我们的用户唯一需要的前置知识是如何在计算机上熟练的使用浏览器、复制粘贴、点击鼠标。<s>您一定是会这个的，对吧。</s></p>\n</blockquote>\n<h3 id=\"写在开头\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#写在开头\"><span>写在开头</span></a></h3>\n<p>本文的目的在于让您快速对BioOS上的计算资源有初步的了解，并进行一些简单的操作。BioOS支持多种操作方式，包括网页、命令行、API等。本文将介绍如何通过<mark>网页</mark>操作BioOS。</p>\n<blockquote>\n<p>命令行、API等工具的文档在<a href=\"https://cloud.miracle.ac.cn/docs\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>，你可能需要内网环境。</p>\n</blockquote>\n<h3 id=\"您需要准备\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#您需要准备\"><span>您需要准备</span></a></h3>\n<ul>\n<li>一个BioOS账号</li>\n<li>一个BioOS Workspace</li>\n</ul>\n<div class=\"hint-container tip\">\n<p class=\"hint-container-title\">提示</p>\n<Tabs id=\"41\" :data='[{\"id\":\"账号在哪？\"},{\"id\":\"Workspace是什么？\"}]'>\n<template #title0=\"{ value, isActive }\">账号在哪？</template><template #title1=\"{ value, isActive }\">Workspace是什么？</template><template #tab0=\"{ value, isActive }\"><p>看看您的邮箱，或者联系管理员。</p>\n</template><template #tab1=\"{ value, isActive }\"><p>Workspace是BioOS中的重要概念，是你的代码和数据存储的抽象概念，就像是一个文件夹。您在首次登录自己的账户时，您可以在系统引导下创建一个Workspace。</p>\n</template></Tabs></div>\n<h3 id=\"主要内容\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#主要内容\"><span>主要内容</span></a></h3>\n<p>通过本文，您将学会如何完成一个简单的计算任务，包括以下几个方面：</p>\n<p>⚙️ <strong>向BioOS中导入工作流文件</strong></p>\n<p>🔍 <strong>认识BioOS中存储数据的方式</strong></p>\n<p>🔗 <strong>利用json传递计算参数</strong></p>\n<p>🚀 <strong>运行工作流并查看运行结果</strong></p>\n<h2 id=\"让我们开始吧-🕺💃\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#让我们开始吧-🕺💃\"><span>让我们开始吧！🕺💃</span></a></h2>\n<h3 id=\"⚙️-向bioos中导入工作流文件\" tabindex=\"-1\"><a class=\"header-anchor\" href=\"#⚙️-向bioos中导入工作流文件\"><span>⚙️ 向BioOS中导入工作流文件</span></a></h3>\n<blockquote>\n<p>这里已经准备好了一个<mark>工作流文件</mark>，您可以将其导入到BioOS中。</p>\n</blockquote>\n<div class=\"demo-wrapper has-title\">\n  <div class=\"demo-head\">\n    <div class=\"demo-ctrl\"><i></i><i></i><i></i></div>\n    <h4 class=\"demo-title\"><p>example.wdl</p></h4>\n  </div>\n  <div class=\"demo-container\" >\n<div class=\"language-python line-numbers-mode has-collapsed collapsed\" data-ext=\"python\" data-title=\"python\" style=\"--vp-collapsed-lines:8;\"><button class=\"copy\" title=\"复制代码\" data-copied=\"已复制\"></button><pre class=\"shiki shiki-themes light-plus aurora-x vp-code\" v-pre=\"\"><code><span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">version </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1.0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">task rename_fastq_files_based_on_size </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">  input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> fastq_file_paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String disk_space = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">150 GB</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Int cpu = </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  command </span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">&#x3C;&#x3C;&#x3C;</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    python3 </span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">&#x3C;&#x3C;</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">CODE</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    import</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> os</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    import</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> shutil</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Convert file paths from WDL array to Python list</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    files = </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">~{sep='</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\"> \"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">' fastq_file_paths}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    sample_name = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">~</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{sample_name}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Calculate file sizes and sort them</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    file_sizes = </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[(</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">f</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> os</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">path</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">getsize</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">f</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">))</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\"> for</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> f </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">in</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">sort</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#001080;--shiki-dark:#F78C6C\">key</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">=</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">lambda</span><span style=\"--shiki-light:#001080;--shiki-dark:#F78C6C\"> x</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> x</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">])</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Initialize variables to hold file paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">None</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Determine the number of files and assign accordingly</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\"> len</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\"> ==</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\"> 2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    elif</span><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\"> len</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">files</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\"> ==</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\"> 3</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> r2_file = file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">],</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> file_sizes</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">][</span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">0</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Define new filenames</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    i1_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_I1_001.fastq.gz\"</span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\"> if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_file </span><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">else</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\"> None</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    r1_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_R1_001.fastq.gz\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    r2_new_filename = </span><span style=\"--shiki-light:#0000FF;--shiki-dark:#C792EA\">f</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">\"</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">{</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name</span><span style=\"--shiki-light:#0000FF;--shiki-dark:#F78C6C\">}</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">_S1_L001_R2_001.fastq.gz\"</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Copy and rename files</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">        shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">i1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r1_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> r1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    shutil</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">copy2</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r2_file</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\"> r2_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic\">    # Output new filenames for verification</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#AF00DB;--shiki-dark:#89DDFF\">    if</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">        print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">i1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r1_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    print</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">r2_new_filename</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    CODE</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#C792EA\">  >>></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  output </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> renamed_fastq_files = </span><span style=\"--shiki-light:#000000;--shiki-dark:#82AAFF\">glob</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">(</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">./*_L001_*_001.fastq.gz</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">)</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name_out = sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  runtime </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    docker</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\"> \"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">python:3.9.19-slim-bullseye</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    cpu</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> cpu</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    disk</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> disk_space</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">workflow example_workflow </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">  input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\"> {</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> fastq_file_paths</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String disk_space = </span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span><span style=\"--shiki-light:#A31515;--shiki-dark:#C3E88D\">150 GB</span><span style=\"--shiki-light:#A31515;--shiki-dark:#89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Int cpu = </span><span style=\"--shiki-light:#098658;--shiki-dark:#F78C6C\">1</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  call rename_fastq_files_based_on_size </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#795E26;--shiki-dark:#82AAFF\">    input</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">:</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      fastq_file_paths = fastq_file_paths</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      sample_name = sample_name</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      disk_space = disk_space</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">      cpu = cpu</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">  output </span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    Array</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">[</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">File</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">]</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\"> renamed_files = rename_fastq_files_based_on_size</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">renamed_fastq_files</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">    String sample_name_out = rename_fastq_files_based_on_size</span><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">.</span><span style=\"--shiki-light:#000000;--shiki-dark:#BBBBBB\">sample_name_out</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">  }</span></span>\n<span class=\"line\"><span style=\"--shiki-light:#000000;--shiki-dark:#89DDFF\">}</span></span></code></pre>\n\n<div class=\"line-numbers\" aria-hidden=\"true\" style=\"counter-reset:line-number 0\"><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div><div class=\"line-number\"></div></div><div class=\"collapsed-lines\"></div></div></div></div><p>这个过程如下图所示</p>\n<ImageCard\n  image=\"../images/WDLinput.gif\"\n  title=\"导入工作流\"\n  description=\"跟随“蓝色按钮”的指引，完成工作流的导入。记得为工作流命名，并撰写注释。\"\n  href=\"/\"\n  author=\"Hughes\"\n  date=\"2024/10/30\"\n/>","tagOpen":"<template>","tagClose":"</template>"},"script":null,"scriptSetup":null,"scripts":[],"styles":[],"customBlocks":[]},"content":"## 👏**欢迎来到Ribo🄲🆅**\n\n---\n\n> ==RiboCV==是一个文档网站，在这里我们将展示如何使用BioOS上的计算资源。\n\n> 我们假设我们的用户唯一需要的前置知识是如何在计算机上熟练的使用浏览器、复制粘贴、点击鼠标。~~您一定是会这个的，对吧。~~\n\n### 写在开头\n\n本文的目的在于让您快速对BioOS上的计算资源有初步的了解，并进行一些简单的操作。BioOS支持多种操作方式，包括网页、命令行、API等。本文将介绍如何通过==网页==操作BioOS。\n> 命令行、API等工具的文档在[这里](https://cloud.miracle.ac.cn/docs)，你可能需要内网环境。\n\n### 您需要准备\n\n- 一个BioOS账号\n- 一个BioOS Workspace\n\n:::: tip\n::: tabs\n@tab 账号在哪？\n看看您的邮箱，或者联系管理员。\n\n@tab Workspace是什么？\nWorkspace是BioOS中的重要概念，是你的代码和数据存储的抽象概念，就像是一个文件夹。您在首次登录自己的账户时，您可以在系统引导下创建一个Workspace。\n:::\n::::\n\n### 主要内容\n\n通过本文，您将学会如何完成一个简单的计算任务，包括以下几个方面：\n\n⚙️ **向BioOS中导入工作流文件**\n\n🔍 **认识BioOS中存储数据的方式**\n\n🔗 **利用json传递计算参数**\n\n🚀 **运行工作流并查看运行结果**\n\n## 让我们开始吧！🕺💃\n\n### ⚙️ 向BioOS中导入工作流文件\n\n> 这里已经准备好了一个==工作流文件==，您可以将其导入到BioOS中。\n:::: demo-wrapper title=\"example.wdl\"\n\n```python :collapsed-lines=8\n<!-- @include: ./example.wdl -->\n```\n\n::::\n\n这个过程如下图所示\n\n<ImageCard\n  image=\"../images/WDLinput.gif\"\n  title=\"导入工作流\"\n  description=\"跟随“蓝色按钮”的指引，完成工作流的导入。记得为工作流命名，并撰写注释。\"\n  href=\"/\"\n  author=\"Hughes\"\n  date=\"2024/10/30\"\n/>","excerpt":"","includedFiles":["/Users/hughes/docs/WDL_Tools_docs/docs/example.wdl"],"tasklists":0,"title":"","headers":[{"level":2,"title":"👏欢迎来到Ribo🄲🆅","slug":"👏欢迎来到riboc🆅","link":"#👏欢迎来到riboc🆅","children":[{"level":3,"title":"写在开头","slug":"写在开头","link":"#写在开头","children":[]},{"level":3,"title":"您需要准备","slug":"您需要准备","link":"#您需要准备","children":[]},{"level":3,"title":"主要内容","slug":"主要内容","link":"#主要内容","children":[]}]},{"level":2,"title":"让我们开始吧！🕺💃","slug":"让我们开始吧-🕺💃","link":"#让我们开始吧-🕺💃","children":[{"level":3,"title":"⚙️ 向BioOS中导入工作流文件","slug":"⚙️-向bioos中导入工作流文件","link":"#⚙️-向bioos中导入工作流文件","children":[]}]}]}}
