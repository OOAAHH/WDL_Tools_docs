<template><div><h2 id="快速实现公式" tabindex="-1"><a class="header-anchor" href="#快速实现公式"><span>快速实现公式</span></a></h2>
<ul>
<li>
<p><strong>1. 复制对GPT输入代码风格化的要求</strong></p>
</li>
<li>
<p><strong>---&gt;&gt;&gt; 2. 编写包含你所有的要求和想法的伪代码</strong></p>
</li>
<li>
<p><strong>---------&gt;&gt;&gt; 3. 拆分伪代码，分模块实现</strong></p>
</li>
</ul>
<h2 id="引言" tabindex="-1"><a class="header-anchor" href="#引言"><span>引言</span></a></h2>
<blockquote>
<p>本文通过几个例子展示了用GPT敲代码的几个模式，您需要确保您的键盘具有Ctrl键、C键、V键。</p>
</blockquote>
<blockquote>
<p>受文本长度限制，本文尽量不对任何内容的驱动原理做出解释。</p>
</blockquote>
<h4 id="读者应该明确" tabindex="-1"><a class="header-anchor" href="#读者应该明确"><span>读者应该明确</span></a></h4>
<div class="hint-container note">
<p class="hint-container-title">注</p>
<ol>
<li><strong>工程控制论正在推动电子计算机技术革命的深入。这样一个现实已经来到了人类面前: 由电子计算机和机器智能装备起来的人,已经成为更有作为、更高超的人!    ———钱学森 《工程控制论·序言》</strong></li>
<li><strong>君子不器。    ———孔子《论语·为政篇》</strong></li>
<li><strong><a href="https://www.marxists.org/chinese/marx-engels-2/44/019.htm" target="_blank" rel="noopener noreferrer">“值得怀疑的是，一切已有的机械发明，是否减轻了任何人每天的辛劳。”</a>    ———约翰·斯图亚特·穆勒《政治经济学原理》</strong></li>
</ol>
</div>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<p>AI放大了人类的能力边界，但社会生活的主体依然是自然人。</p>
</div>
<h2 id="第一部分-对gpt输入代码风格化的要求" tabindex="-1"><a class="header-anchor" href="#第一部分-对gpt输入代码风格化的要求"><span>第一部分：对GPT输入代码风格化的要求</span></a></h2>
<blockquote>
<p>跟我复制</p>
</blockquote>
<blockquote>
<p>如果你有一些类似于“整洁代码”的偏好，或者你有明确的编程习惯，请在进行代码产出时，明确告诉GPT，如同下面的文本所示。</p>
</blockquote>
<div class="language-txt line-numbers-mode has-collapsed collapsed" data-ext="txt" data-title="txt" style="--vp-collapsed-lines:8;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span>You are an advanced AI model designed to solve complex programming challenges by applying a combination of sophisticated reasoning techniques. To ensure your code outputs are technically precise, secure, efficient, and well-documented, follow these structured instructions:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Break Down the Coding Task:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Begin by applying Chain of Thought (CoT) reasoning to decompose the programming task into logical, manageable components. Clearly articulate each step in the coding process, whether it's designing an algorithm, structuring code, or implementing specific functions. Outline the dependencies between components, ensuring that the overall system design is coherent and modular. Verify the correctness of each step before proceeding, ensuring that your code is logically sound and modular.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Rationalize Each Coding Decision:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>As you develop the code, use Step-by-Step Rationalization (STaR) to provide clear, logical justifications for every decision made during the coding process. Consider and document alternative design choices, explaining why the chosen approach is preferred based on criteria such as performance, scalability, and maintainability. Ensure that each line of code has a clear purpose and is well-commented for maintainability.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Optimize Code for Efficiency and Reliability:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Incorporate A Search principles* to evaluate and optimize the efficiency of your code. Select the most direct and cost-effective algorithms and data structures, considering time complexity, space complexity, and resource management. Develop and run test cases, including edge cases, to ensure code efficiency and reliability. Profile the code to identify and optimize any performance bottlenecks.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Consider and Evaluate Multiple Code Solutions:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Leverage Tree of Thoughts (ToT) to explore different coding approaches and solutions in parallel. Evaluate each potential solution using A Search principles*, prioritizing those that offer the best balance between performance, readability, and maintainability. Document why less favorable solutions were rejected, providing transparency and aiding future code reviews.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Simulate Adaptive Learning in Coding:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Reflect on your coding decisions throughout the session as if you were learning from each outcome. Apply Q-Learning principles to prioritize coding strategies that lead to robust and optimized code. At the conclusion of each coding task, summarize key takeaways and areas for improvement to guide future development.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Continuously Monitor and Refine Your Coding Process:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Engage in Process Monitoring to continuously assess the progress of your coding task. Periodically review the codebase for technical debt and refactoring opportunities, ensuring long-term maintainability and code quality. Ensure that each segment of the code aligns with the overall project goals and requirements. Use real-time feedback to refine your coding approach, making necessary adjustments to maintain the quality and effectiveness of the code throughout the development process.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Incorporate Security Best Practices:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Apply security best practices, including input validation, encryption, and secure coding techniques, to safeguard against vulnerabilities. Ensure that the code is robust against common security threats.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Highlight Code Readability:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Prioritize code readability by using clear variable names, consistent formatting, and logical organization. Ensure that the code is easy to understand and maintain, facilitating future development and collaboration.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Include Collaboration Considerations:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Consider how the code will be used and understood by other developers. Write comprehensive documentation and follow team coding standards to facilitate collaboration and ensure that the codebase remains accessible and maintainable for all contributors.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Final Instruction:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>By following these instructions, you will ensure that your coding approach is methodical, well-reasoned, and optimized for technical precision and efficiency. Your goal is to deliver the most logical, secure, efficient, and well-documented code possible by fully integrating these advanced reasoning techniques into your programming workflow.</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="第二部分-把你的想法转换为伪代码或类似的逻辑描述" tabindex="-1"><a class="header-anchor" href="#第二部分-把你的想法转换为伪代码或类似的逻辑描述"><span>第二部分：把你的想法转换为伪代码或类似的逻辑描述</span></a></h2>
<h3 id="📏范式" tabindex="-1"><a class="header-anchor" href="#📏范式"><span>📏范式</span></a></h3>
<p>常见的范式有：</p>
<ul>
<li><mark>命令式编程（Imperative Programming）</mark>
程序由一系列的命令或语句组成，计算机按照这些命令执行操作。这是最早也是最基本的编程范式。典型代表：C 和 Java</li>
<li><mark>声明式编程（Declarative Programming）</mark>：程序员只需要描述他们想要的结果，而不需要详细说明如何达到这个结果。典型代表：SQL 和 HTML</li>
<li><mark>面向对象编程（Object-Oriented Programming）</mark>：程序被组织成对象，每个对象都包含数据和操作数据的方法。面向对象编程强调的是数据抽象和封装，以及对象之间的交互。典型代表：Java 和 Python</li>
</ul>
<h3 id="为什么需要伪代码" tabindex="-1"><a class="header-anchor" href="#为什么需要伪代码"><span>为什么需要伪代码？</span></a></h3>
<p>回想一下🤔，当我们和GPT之类的产品进行交互时，我们的交互方式大致上有两类：
举个例子，当我需要让GPT帮我写一个算法时，我可能会：</p>
<h4 id="第一种交互方式" tabindex="-1"><a class="header-anchor" href="#第一种交互方式"><span>第一种交互方式</span></a></h4>
<blockquote>
<p>“我需要你写一段代码，这段代码第一行是<code v-pre>def</code>，然后是函数名，然后是3个参数，然后是四行函数体。函数体中需要有<code v-pre>return</code>。它第一行是……最后一行是……。”</p>
</blockquote>
<p>这是一种典型的命令式交互，非常好使。</p>
<h4 id="第二种交互方式" tabindex="-1"><a class="header-anchor" href="#第二种交互方式"><span>第二种交互方式</span></a></h4>
<blockquote>
<p>“直接说，我需要一个算法，这个算法需要满足以下要求：……”</p>
</blockquote>
<p>这是一种典型的声明式交互，主要关注结果的描述和需求，而不需要详细说明如何达到这个结果。</p>
<div class="hint-container warning">
<p class="hint-container-title">警告</p>
<p>声明式交互在代码实现上具有更大的风险，尤其是<mark>你缺乏对代码的深入理解时</mark>，比如李逵和李鬼:</p>
<p><img src="http://k.sinaimg.cn/n/sinacn/w500h229/20180102/7226-fyqefvx1303978.jpg/w700d1q75cms.jpg?by=cms_fixed_width" alt="Alt text"></p>
</div>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<ul>
<li>
<p>这里最<strong>核心的逻辑</strong>是，你和GPT之间的信息越一致，那么你得到的代码就越符合你的预期。</p>
</li>
<li>
<p>正是基于这个逻辑，我们才需要在第二步进行<mark>伪代码交互</mark>。</p>
</li>
</ul>
</div>
<h4 id="伪代码的交互" tabindex="-1"><a class="header-anchor" href="#伪代码的交互"><span>伪代码的交互</span></a></h4>
<p>我提供一个比较极端的例子，假设你想要一个按照一定规则拆分矩阵的代码，并把结果存在你的类中，你和GPT的交互的伪代码如下：</p>
<div class="language-python line-numbers-mode" data-ext="python" data-title="python"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">定义函数 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">():</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    寻找矩阵的因数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">n</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 i 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">4</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 n（包含 n）：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            如果 n 能被 i 整除：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                返回 i</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        返回 n  </span><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"># 如果没有找到因数，返回 n 本身</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    获取矩阵的行数和列数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 矩阵的形状</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    找到大于 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">3</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 的最小因数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第一拆分方法：按因数拆分行和列</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    将矩阵按行拆分为多个子矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_split </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 按 row_factor 将矩阵垂直拆分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    将每个子矩阵按列拆分为更小的矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 对于每个 sub_matrix 在 row_split 中，按 col_factor 水平拆分</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第二拆分方法：取相邻列的接缝区域</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    初始化 seam_matrices_cols 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    对于 每个 row_matrices 在 small_matrices 中（按行遍历）：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        初始化 row_seams 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 j 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            获取当前小矩阵的最后一列和下一个小矩阵的第一列</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 合并 当前小矩阵的最后一列 和 下一个小矩阵的第一列（按列合并）</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            将 seam_matrix 添加到 row_seams 中</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        将 row_seams 添加到 seam_matrices_cols 中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第三拆分方法：取相邻行的小矩阵进行垂直拼接</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    初始化 seam_matrices_rows 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    对于 i 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">行的小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        初始化 row_seams 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 j 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">列的小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            获取当前行的小矩阵和下一行的小矩阵</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            top_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 当前行的小矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            bottom_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 下一行的小矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            拼接 top_matrix 的最后一行和 bottom_matrix 的第一行</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 合并 top_matrix 的最后一行 和 bottom_matrix 的第一行（按行合并）</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            将 seam_matrix 添加到 row_seams 中</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        将 row_seams 添加到 seam_matrices_rows 中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 将拆分结果存储到对象属性中</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> small_matrices</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> seam_matrices_cols</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> seam_matrices_rows</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip">
<p class="hint-container-title">提示</p>
<h3 id="🙋好-那么好-这时候聪明的你就要问了" tabindex="-1"><a class="header-anchor" href="#🙋好-那么好-这时候聪明的你就要问了"><span>🙋好，那么好，这时候聪明的你就要问了：</span></a></h3>
<blockquote>
<h1 id="我都写到这种程度了-为什么我不亲自写一遍-好像工作量是差不多的。" tabindex="-1"><a class="header-anchor" href="#我都写到这种程度了-为什么我不亲自写一遍-好像工作量是差不多的。"><span>“我都写到这种程度了，为什么我不亲自写一遍？好像工作量是差不多的。”</span></a></h1>
</blockquote>
</div>
<p>根据我的观察，如果你写了伪代码，在GPT的帮助下，它既可以是python也可以是C++，甚至可以是Java。它既可以是面向对象的，也可以是函数式的。<mark>你可以把更多的时间花在思考上，而不是写代码上。</mark> 算法上的革新带来的进步，远比你写代码tricks带来的进步要大。</p>
<p>再者，正如笑容不会消失，笑容只会从一个人的脸上转移到另一个人的脸上。复杂性也是一样的，复杂性不会消失，复杂性只会从这里转移到那里。在这里，我们可以尝试把复杂性转移到机器上。很多优秀的工程师都有这样的习惯，把代码写的像诗一样的优雅，充满了各种隐喻、抽象。也正是这个原因，维护自然语言的伪代码的复杂性，远比你维护代码的复杂性要低。</p>
<h2 id="第三部分-怎么让gpt整点复杂的东西" tabindex="-1"><a class="header-anchor" href="#第三部分-怎么让gpt整点复杂的东西"><span>第三部分：怎么让GPT整点复杂的东西？</span></a></h2>
<div class="hint-container tip">
<p class="hint-container-title">提示</p>
<p>诚然，大语言模型的技术一直在进步，但是，受限于其上下文能力，基于效率上的考虑，我们应该尝试把真实的工程进行模块化、结构化。</p>
</div>
<h3 id="这一点和完成一个大型工程一摸一样" tabindex="-1"><a class="header-anchor" href="#这一点和完成一个大型工程一摸一样"><span>这一点和完成一个大型工程一摸一样</span></a></h3>
<blockquote>
<p>GPT先天的适合增量更新的模式，为了春分利用这一点，需要作为“架构师”的你首先对你的工程进行定义。</p>
</blockquote>
<div class="hint-container tip">
<p class="hint-container-title">提示</p>
<p>确保模块间的解耦，有些时候你会想用不同的大模型来完成不同的模块。</p>
</div>
<blockquote>
<p>你可以参考下面的步骤来定义你的模块。</p>
</blockquote>
<h3 id="_3-1-定义互相解耦的模块" tabindex="-1"><a class="header-anchor" href="#_3-1-定义互相解耦的模块"><span><strong>3.1 定义互相解耦的模块</strong></span></a></h3>
<ol>
<li><strong>模块划分原则</strong>
<ul>
<li>高内聚低耦合</li>
<li>明确的接口和责任</li>
</ul>
</li>
<li><strong>识别关键功能模块</strong>
<ul>
<li>功能分解的方法</li>
<li>示例：将一个Web应用划分为前端、后端、数据库等模块</li>
</ul>
</li>
<li><strong>接口设计</strong>
<ul>
<li>模块间通信的标准</li>
<li>使用API和协议确保模块独立性</li>
</ul>
</li>
</ol>
<h3 id="_3-2-模块化的实施步骤" tabindex="-1"><a class="header-anchor" href="#_3-2-模块化的实施步骤"><span><strong>3.2 模块化的实施步骤</strong></span></a></h3>
<ol>
<li><strong>需求分析与功能分解</strong>
<ul>
<li>收集和分析项目需求</li>
<li>将需求转化为功能模块</li>
</ul>
</li>
<li><strong>模块设计与规划</strong>
<ul>
<li>为每个模块制定详细设计</li>
<li>确定模块之间的依赖关系</li>
</ul>
</li>
<li><strong>逐个模块的开发与测试</strong>
<ul>
<li>按照规划顺序开发模块</li>
<li>独立测试每个模块的功能和性能</li>
</ul>
</li>
<li><strong>集成与系统测试</strong>
<ul>
<li>将各模块集成到整体系统中</li>
<li>进行系统级别的测试和优化</li>
</ul>
</li>
</ol>
<h3 id="_3-3-利用gpt进行模块化开发" tabindex="-1"><a class="header-anchor" href="#_3-3-利用gpt进行模块化开发"><span><strong>3.3 利用GPT进行模块化开发</strong></span></a></h3>
<h4 id="_1-分块粘贴伪代码" tabindex="-1"><a class="header-anchor" href="#_1-分块粘贴伪代码"><span>1. 分块粘贴伪代码</span></a></h4>
<h2 id="作为结论" tabindex="-1"><a class="header-anchor" href="#作为结论"><span>作为结论</span></a></h2>
<h3 id="实践-让我们在这里引入一个具体的例子" tabindex="-1"><a class="header-anchor" href="#实践-让我们在这里引入一个具体的例子"><span>实践：让我们在这里引入一个具体的例子</span></a></h3>
<div class="hint-container tip">
<p class="hint-container-title">提示</p>
<p>我利用刚刚例子中的伪代码和拆分模块的思想制作了promote，你可以在这里看到完整的上下文信息。</p>
<blockquote>
<p>我创建了chatGPT（o1-mini模型）<a href="https://chatgpt.com/share/66e56444-484d-484d-984d-484d484d484d" target="_blank" rel="noopener noreferrer">分享链接</a>，点击链接，你可以在这里看到一个完整的例子。</p>
</blockquote>
</div>
<div class="hint-container important">
<p class="hint-container-title">重要</p>
<h3 id="我们实际上做了什么" tabindex="-1"><a class="header-anchor" href="#我们实际上做了什么"><span>我们实际上做了什么？</span></a></h3>
<ul>
<li>
<p><strong>1. 复制对GPT输入代码风格化的要求</strong></p>
</li>
<li>
<p><strong>---&gt;&gt;&gt; 2. 编写包含你所有的要求和想法的伪代码</strong></p>
</li>
<li>
<p><strong>---------&gt;&gt;&gt; 3. 拆分伪代码，分模块实现</strong></p>
</li>
</ul>
</div>
<blockquote>
<p><mark>具体的</mark>（注意代码块右侧的复制按钮）：</p>
</blockquote>
<Tabs id="378" :data='[{"id":"1/5 复制"},{"id":"2/5 编写伪代码"},{"id":"3/5 先主体"},{"id":"4/5 进一步进行限定"},{"id":"5/5 插入功能点"}]' :active="2">
<template #title0="{ value, isActive }">1/5 复制</template><template #title1="{ value, isActive }">2/5 编写伪代码</template><template #title2="{ value, isActive }">3/5 先主体</template><template #title3="{ value, isActive }">4/5 进一步进行限定</template><template #title4="{ value, isActive }">5/5 插入功能点</template><template #tab0="{ value, isActive }"><p><mark>这里同上</mark></p>
<div class="language-txt line-numbers-mode has-collapsed collapsed" data-ext="txt" data-title="txt" style="--vp-collapsed-lines:8;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span>You are an advanced AI model designed to solve complex programming challenges by applying a combination of sophisticated reasoning techniques. To ensure your code outputs are technically precise, secure, efficient, and well-documented, follow these structured instructions:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Break Down the Coding Task:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Begin by applying Chain of Thought (CoT) reasoning to decompose the programming task into logical, manageable components. Clearly articulate each step in the coding process, whether it's designing an algorithm, structuring code, or implementing specific functions. Outline the dependencies between components, ensuring that the overall system design is coherent and modular. Verify the correctness of each step before proceeding, ensuring that your code is logically sound and modular.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Rationalize Each Coding Decision:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>As you develop the code, use Step-by-Step Rationalization (STaR) to provide clear, logical justifications for every decision made during the coding process. Consider and document alternative design choices, explaining why the chosen approach is preferred based on criteria such as performance, scalability, and maintainability. Ensure that each line of code has a clear purpose and is well-commented for maintainability.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Optimize Code for Efficiency and Reliability:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Incorporate A Search principles* to evaluate and optimize the efficiency of your code. Select the most direct and cost-effective algorithms and data structures, considering time complexity, space complexity, and resource management. Develop and run test cases, including edge cases, to ensure code efficiency and reliability. Profile the code to identify and optimize any performance bottlenecks.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Consider and Evaluate Multiple Code Solutions:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Leverage Tree of Thoughts (ToT) to explore different coding approaches and solutions in parallel. Evaluate each potential solution using A Search principles*, prioritizing those that offer the best balance between performance, readability, and maintainability. Document why less favorable solutions were rejected, providing transparency and aiding future code reviews.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Simulate Adaptive Learning in Coding:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Reflect on your coding decisions throughout the session as if you were learning from each outcome. Apply Q-Learning principles to prioritize coding strategies that lead to robust and optimized code. At the conclusion of each coding task, summarize key takeaways and areas for improvement to guide future development.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Continuously Monitor and Refine Your Coding Process:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Engage in Process Monitoring to continuously assess the progress of your coding task. Periodically review the codebase for technical debt and refactoring opportunities, ensuring long-term maintainability and code quality. Ensure that each segment of the code aligns with the overall project goals and requirements. Use real-time feedback to refine your coding approach, making necessary adjustments to maintain the quality and effectiveness of the code throughout the development process.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Incorporate Security Best Practices:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Apply security best practices, including input validation, encryption, and secure coding techniques, to safeguard against vulnerabilities. Ensure that the code is robust against common security threats.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Highlight Code Readability:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Prioritize code readability by using clear variable names, consistent formatting, and logical organization. Ensure that the code is easy to understand and maintain, facilitating future development and collaboration.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Include Collaboration Considerations:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Consider how the code will be used and understood by other developers. Write comprehensive documentation and follow team coding standards to facilitate collaboration and ensure that the codebase remains accessible and maintainable for all contributors.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Final Instruction:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>By following these instructions, you will ensure that your coding approach is methodical, well-reasoned, and optimized for technical precision and efficiency. Your goal is to deliver the most logical, secure, efficient, and well-documented code possible by fully integrating these advanced reasoning techniques into your programming workflow.</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div></template><template #tab1="{ value, isActive }"><p><mark>这里同上</mark></p>
<div class="language-python line-numbers-mode has-collapsed collapsed" data-ext="python" data-title="python" style="--vp-collapsed-lines:10;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">定义函数 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">():</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    寻找矩阵的因数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">n</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 i 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">4</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 n（包含 n）：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            如果 n 能被 i 整除：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                返回 i</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        返回 n  </span><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"># 如果没有找到因数，返回 n 本身</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    获取矩阵的行数和列数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 矩阵的形状</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    找到大于 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">3</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 的最小因数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第一拆分方法：按因数拆分行和列</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    将矩阵按行拆分为多个子矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_split </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 按 row_factor 将矩阵垂直拆分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    将每个子矩阵按列拆分为更小的矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 对于每个 sub_matrix 在 row_split 中，按 col_factor 水平拆分</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第二拆分方法：取相邻列的接缝区域</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    初始化 seam_matrices_cols 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    对于 每个 row_matrices 在 small_matrices 中（按行遍历）：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        初始化 row_seams 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 j 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            获取当前小矩阵的最后一列和下一个小矩阵的第一列</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 合并 当前小矩阵的最后一列 和 下一个小矩阵的第一列（按列合并）</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            将 seam_matrix 添加到 row_seams 中</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        将 row_seams 添加到 seam_matrices_cols 中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第三拆分方法：取相邻行的小矩阵进行垂直拼接</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    初始化 seam_matrices_rows 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    对于 i 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">行的小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        初始化 row_seams 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 j 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">列的小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            获取当前行的小矩阵和下一行的小矩阵</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            top_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 当前行的小矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            bottom_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 下一行的小矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            拼接 top_matrix 的最后一行和 bottom_matrix 的第一行</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 合并 top_matrix 的最后一行 和 bottom_matrix 的第一行（按行合并）</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            将 seam_matrix 添加到 row_seams 中</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        将 row_seams 添加到 seam_matrices_rows 中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 将拆分结果存储到对象属性中</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> small_matrices</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> seam_matrices_cols</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> seam_matrices_rows”。  最终的交付形式为可以独立运行的python脚本，捕获用户输入的两个数字作为矩阵的尺寸。</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div></template><template #tab2="{ value, isActive }"><p><mark>这里我们分块实现</mark></p>
<h4 id="主体部分" tabindex="-1"><a class="header-anchor" href="#主体部分"><span><strong>主体部分</strong></span></a></h4>
<p>我构思了一个矩阵拆分的算法，我定义我的模块有：0 验证用户的输入是否合适我们的拆分方法：如是否可以进行因式分解；1 生成矩阵；2 对矩阵进行拆分；3 把拆分后的矩阵和原有的矩阵在一张图片上叠加显示，着重显示拆分矩阵的边界。注意：技术选型为python3。我定义了第2部分的伪代码，代码如下“</p>
<div class="language-python line-numbers-mode has-collapsed collapsed" data-ext="python" data-title="python" style="--vp-collapsed-lines:5;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">定义函数 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">():</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    寻找矩阵的因数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">n</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 i 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">4</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 n（包含 n）：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            如果 n 能被 i 整除：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                返回 i</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        返回 n  </span><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"># 如果没有找到因数，返回 n 本身</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    获取矩阵的行数和列数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 矩阵的形状</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    找到大于 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">3</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 的最小因数</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第一拆分方法：按因数拆分行和列</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    将矩阵按行拆分为多个子矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_split </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 按 row_factor 将矩阵垂直拆分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    将每个子矩阵按列拆分为更小的矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 对于每个 sub_matrix 在 row_split 中，按 col_factor 水平拆分</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第二拆分方法：取相邻列的接缝区域</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    初始化 seam_matrices_cols 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    对于 每个 row_matrices 在 small_matrices 中（按行遍历）：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        初始化 row_seams 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 j 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            获取当前小矩阵的最后一列和下一个小矩阵的第一列</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 合并 当前小矩阵的最后一列 和 下一个小矩阵的第一列（按列合并）</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            将 seam_matrix 添加到 row_seams 中</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        将 row_seams 添加到 seam_matrices_cols 中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 第三拆分方法：取相邻行的小矩阵进行垂直拼接</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    初始化 seam_matrices_rows 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    对于 i 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">行的小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        初始化 row_seams 为一个空列表</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        对于 j 从 </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 到 </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">列的小矩阵数量 </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">：</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            获取当前行的小矩阵和下一行的小矩阵</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            top_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 当前行的小矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            bottom_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 下一行的小矩阵</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            拼接 top_matrix 的最后一行和 bottom_matrix 的第一行</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> 合并 top_matrix 的最后一行 和 bottom_matrix 的第一行（按行合并）</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            将 seam_matrix 添加到 row_seams 中</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        将 row_seams 添加到 seam_matrices_rows 中</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    # 将拆分结果存储到对象属性中</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> small_matrices</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> seam_matrices_cols</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">    self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> seam_matrices_rows</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>”。最终的交付形式为可以独立运行的python脚本，捕获用户输入的两个数字作为矩阵的尺寸。</p>
</template><template #tab3="{ value, isActive }"><h4 id="模块1" tabindex="-1"><a class="header-anchor" href="#模块1"><span><strong>模块1</strong></span></a></h4>
<p>这里上面的提示词有些问题，我没有严格的定义可视化的方式，于是出现了问题。我对可视化的部分做出限定，我希望得到一张png图像，用填写数字的表格代表矩阵，表格使用黑色实线，表格中的每个小格子都是正方形。矩阵被切分的接缝处使用红色粗实线进行区分。</p>
<h4 id="debug" tabindex="-1"><a class="header-anchor" href="#debug"><span><strong>debug</strong></span></a></h4>
<p>我在运行这段代码的时候遇到了问题，详细的上下文信息是“</p>
<div class="language-shell line-numbers-mode" data-ext="shell" data-title="shell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#FFCB6B">%</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D"> python</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D"> test.py</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><div class="language-python line-numbers-mode has-collapsed collapsed" data-ext="python" data-title="python" style="--vp-collapsed-lines:5;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Matrix Splitting Algorithm </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">with</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> Enhanced Visualization</span></span>
<span class="line"><span style="--shiki-light:#CD3131;--shiki-dark:#FF5370">------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Enter the number of rows </span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">and</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> columns </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">e</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">g</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.,</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">8 12</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 80</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 12</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Generated matrix of size </span><span style="--shiki-light:#CD3131;--shiki-dark:#FF5370">80x12</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Row factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 4</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> Column factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 4</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Matrix split into </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">20</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> row</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">wise submatrices</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Total small matrices after horizontal split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 60</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">Generated seam matrices </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> columns</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 20</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> sets</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">Traceback </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">most recent call last</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">  File </span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">/Users/hughes/docs/test.py</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> line </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">195</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> in</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> &#x3C;</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">module</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">></span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">    main</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">  File </span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">/Users/hughes/docs/test.py</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> line </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">191</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA"> in</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> main</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    splitter</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">split_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">  File </span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">/Users/hughes/docs/test.py</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> line </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">99</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA"> in</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> split_matrix</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">vstack</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">((</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">top_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> :].</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">reshape</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">),</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> bottom_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> :].</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">reshape</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#C792EA">                             ~~~~~~~~~~^^^^^^^</span></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6">IndexError</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> index </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA"> is</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> out of bounds </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> axis </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> with</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> size </span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">”</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div></template><template #tab4="{ value, isActive }"><h4 id="模块2" tabindex="-1"><a class="header-anchor" href="#模块2"><span><strong>模块2</strong></span></a></h4>
<p>非常好👍，下面我们再对可视化的部分进行功能点的新增，刚刚我们的代码实现了对于按列拆分时的可视化，我们在最终的图像上增加按行拆分矩阵时的线，用绿色的粗实线来表示。在绘图的部分外部套一个tqdm的进度展示，便于在终端中查阅进度。</p>
<h4 id="最终结果" tabindex="-1"><a class="header-anchor" href="#最终结果"><span><strong>最终结果</strong></span></a></h4>
<div class="language-python line-numbers-mode has-collapsed collapsed" data-ext="python" data-title="python" style="--vp-collapsed-lines:10;"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes light-plus aurora-x vp-code" v-pre=""><code><span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">#!/usr/bin/env python3</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"># -*- coding: utf-8 -*-</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"""</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Matrix Splitting Algorithm with Enhanced Visualization</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">This script captures user input for matrix dimensions, validates the input,</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">generates a matrix, splits it based on factorization, and visualizes the</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">original and split matrices with clearly defined grid lines and highlighted</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">split boundaries. The final visualization is saved as a PNG image.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Enhancements:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">1. Added green thick lines to represent row splits.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">2. Incorporated tqdm progress bars to monitor plotting progress.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Author: OpenAI ChatGPT</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Date: 2024-11-08</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"""</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> sys</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> numpy </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> matplotlib</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">pyplot </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> plt</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">from</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> matplotlib</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">patches </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> Rectangle</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">from</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> tqdm </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> tqdm  </span><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"># Import tqdm for progress bars</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">class</span><span style="--shiki-light:#267F99;--shiki-dark:#FFCB6B"> MatrixSplitter</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">    def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> __init__</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Initializes the MatrixSplitter with the specified number of rows and columns.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Parameters:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">            rows (int): Number of rows in the matrix.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">            cols (int): Number of columns in the matrix.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> rows</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C"> None</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> []</span><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">  # 2D list: small_matrices[i][j]</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> []</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> []</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">    def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> n</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Finds the smallest factor of n that is greater than three.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Parameters:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">            n (int): The number to find a factor for.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Returns:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">            int: The smallest factor greater than three, or n if no such factor exists.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">4</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> n </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            if</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> n </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">%</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> i </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">                return</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> i</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        return</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> n</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">    def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> generate_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Generates a matrix with random integers between 0 and 99.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">        self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">random</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">randint</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 100</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> size</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">))</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Generated matrix of size </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">x</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">."</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">    def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> split_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Splits the matrix into smaller matrices based on factorization.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Find factors</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Row factor: </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">row_factor</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">, Column factor: </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">col_factor</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Calculate number of splits</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        num_row_splits </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">//</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> row_factor</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        num_col_splits </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">//</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> col_factor</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # First split: Vertical (rows)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_split </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">array_split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> num_row_splits</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> axis</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Matrix split into </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">row_split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D"> row-wise submatrices."</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Further split: Horizontal (columns)</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Convert small_matrices to a 2D list</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> sub_matrix </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> row_split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            cols_split </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">array_split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">sub_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> num_col_splits</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> axis</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">            self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">append</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols_split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        total_small_matrices </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">small_matrices</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> *</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> num_col_splits</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Total small matrices after horizontal split: </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">total_small_matrices</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Second split: Seam matrices for columns</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> sub_matrix </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> row_split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            row_seams </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> []</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">num_col_splits </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                last_col </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> sub_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[:,</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> *</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">].</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">reshape</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                next_col </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> sub_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[:,</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> *</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> col_factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">].</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">reshape</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">hstack</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">((</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">last_col</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> next_col</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                row_seams</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">append</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">seam_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">            self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">append</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">row_seams</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Generated seam matrices for columns: </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">seam_matrices_cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D"> sets."</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Third split: Seam matrices for rows</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">num_row_splits </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">            row_seams </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> []</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">num_col_splits</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">                # Access small_matrices as a 2D list</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                top_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">][</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                bottom_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">small_matrices</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">i </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">][</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">                # Get the last row of top_matrix and first row of bottom_matrix</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                top_last_row </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> top_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> :].</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">reshape</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                bottom_first_row </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> bottom_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF"> :].</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">reshape</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> -</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                seam_matrix </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">vstack</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">((</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">top_last_row</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> bottom_first_row</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                row_seams</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">append</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">seam_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">            self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">seam_matrices_rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">append</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">row_seams</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Generated seam matrices for rows: </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">seam_matrices_rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D"> sets."</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">    def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> visualize_splits</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> output_filename</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">matrix_split.png</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Visualizes the original and split matrices as a numbered grid with black grid lines,</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        red thick lines for column splits, and green thick lines for row splits.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        The visualization is saved as a PNG image.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        Parameters:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">            output_filename (str): The filename for the saved PNG image.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">        """</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        fig</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> ax </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> plt</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">subplots</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">figsize</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">set_xlim</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">set_ylim</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">set_xticks</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">arange</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">set_yticks</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">np</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">arange</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">set_xticklabels</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">([])</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">set_yticklabels</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">([])</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">grid</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">which</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">both</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> color</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">black</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> linewidth</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Invert y-axis to have the first row at the top</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">invert_yaxis</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Add numbers to each cell with a progress bar</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        total_cells </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">*</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">cols</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        with</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> tqdm</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">total</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">total_cells</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> desc</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Plotting cells</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> unit</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">cell</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> pbar</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">                for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                    cell_value </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">[</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                    ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">text</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">j </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 0.5</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> i </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">+</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 0.5</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6"> str</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cell_value</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">),</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">                            va</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">center</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> ha</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">center</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> fontsize</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">8</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                    pbar</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">update</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Highlight split boundaries with red thick lines (columns) and green thick lines (rows)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        row_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">smallest_factor_greater_than_three</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Horizontal split lines (rows) - Green</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        with</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> tqdm</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">total</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">//</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> row_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> desc</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Drawing row splits</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> unit</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">split</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> pbar</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">//</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> row_factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">axhline</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">i </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">*</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> row_factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> color</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">green</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> linewidth</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                pbar</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">update</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Vertical split lines (columns) - Red</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        with</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> tqdm</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">total</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic">self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">//</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> col_factor </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">-</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> desc</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Drawing column splits</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> unit</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">split</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> pbar</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            for</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> range</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0000FF;--shiki-light-font-style:inherit;--shiki-dark:#FF5370;--shiki-dark-font-style:italic"> self</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">//</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> col_factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                ax</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">axvline</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">j </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">*</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> col_factor</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> color</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">red</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> linewidth</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">                pbar</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">update</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Remove whitespace and axes</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        plt</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">axis</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">off</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        plt</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">tight_layout</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-light-font-style:inherit;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">        # Save the figure</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        plt</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">savefig</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">output_filename</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> dpi</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">300</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C"> bbox_inches</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">tight</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        plt</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">close</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Visualization saved as '</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">output_filename</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">'."</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> validate_input</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#001080;--shiki-dark:#F78C6C">input_str</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">):</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">    """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">    Validates that the input string contains two integers greater than or equal to 4.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">    Parameters:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        input_str (str): The input string containing two numbers.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        tuple: A tuple containing two integers (rows, cols).</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">    Raises:</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">        ValueError: If input is invalid.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">    """</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">    try</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        parts </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> input_str</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">strip</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">().</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">split</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">parts</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> !=</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            raise</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6"> ValueError</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Please enter exactly two numbers separated by space.</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> map</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6">int</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> parts</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        if</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> rows </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 4</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA"> or</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">&#x3C;</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C"> 4</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">            raise</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6"> ValueError</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Both dimensions must be at least 4.</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        return</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">    except</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6"> Exception</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> e</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">        raise</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6"> ValueError</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">f</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"Invalid input: </span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">{</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">e</span><span style="--shiki-light:#0000FF;--shiki-dark:#F78C6C">}</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#C792EA">def</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> main</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">():</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">    """</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">    Main function to execute the matrix splitting algorithm.</span></span>
<span class="line"><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">    """</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">    print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Matrix Splitting Algorithm with Enhanced Visualization</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">    print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">------------------------------------------------------</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">    try</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        user_input </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF"> input</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">Enter the number of rows and columns (e.g., '8 12'): </span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> cols </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> validate_input</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">user_input</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">    except</span><span style="--shiki-light:#267F99;--shiki-dark:#B2CCD6"> ValueError</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB"> ve</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF">        print</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">ve</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">        sys</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">exit</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    splitter </span><span style="--shiki-light:#000000;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> MatrixSplitter</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">rows</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF"> cols</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    splitter</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">generate_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    splitter</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">split_matrix</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BBBBBB">    splitter</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">visualize_splits</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF">if</span><span style="--shiki-light:#001080;--shiki-dark:#BBBBBB"> __name__</span><span style="--shiki-light:#000000;--shiki-dark:#C792EA"> ==</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF"> "</span><span style="--shiki-light:#A31515;--shiki-dark:#C3E88D">__main__</span><span style="--shiki-light:#A31515;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#82AAFF">    main</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF">()</span></span></code></pre>

<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div></template></Tabs><h2 id="结语" tabindex="-1"><a class="header-anchor" href="#结语"><span>结语</span></a></h2>
<blockquote>
<p>我必须在这里重申 <mark>“AI放大了人类的能力边界”</mark>，代码的最终结果极大的取决于 <mark>“人的思考”</mark> 的质量。</p>
</blockquote>
<p>在这里，我推荐书籍《人月神话》<a href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E6%9C%88%E7%A5%9E%E8%AF%9D" target="_blank" rel="noopener noreferrer">wiki</a>，虽然此书是写于1975年，但数十年来多次重印。书中对软件工程的思考，对软件开发中人的因素的思考，非常值得阅读。</p>
<p>over</p>
</div></template>


